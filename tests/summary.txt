test nº0 failed. input: echo "hello world"
asts:
cmd:
argc: 2
argv: 'echo hello world'
nredirs: 0

versus:
asts:
cmd:
argc: 2
argv: 'echo hello world'
nredirs: 0

------------------------------------------------------------
test nº1 failed. input: ls -l /usr > out.txt
asts:
cmd:
argc: 3
argv: 'ls -l /usr'
nredirs: 1
redirs:
fd=1 op='>' file="out.txt"

versus:
asts:
cmd:
argc: 3
argv: 'ls -l /usr'
nredirs: 1
redirs:
fd=1 op='>' file="out.txt"

------------------------------------------------------------
test nº2 failed. input: cat < input.txt
asts:
cmd:
argc: 1
argv: 'cat'
nredirs: 1
redirs:
fd=0 op='<' file="input.txt"

versus:
asts:
cmd:
argc: 1
argv: 'cat'
nredirs: 1
redirs:
fd=0 op='<' file="input.txt"

------------------------------------------------------------
test nº3 failed. input: echo hi | wc -c
asts:
pipeline:
ncommands: 2
1/2:
cmd:
argc: 2
argv: 'echo hi'
nredirs: 0
2/2:
cmd:
argc: 2
argv: 'wc -c'
nredirs: 0

versus:
asts:
pipeline:
ncommands: 2
1/2:
cmd:
argc: 2
argv: 'echo hi'
nredirs: 0
2/2:
cmd:
argc: 2
argv: 'wc -c'
nredirs: 0

------------------------------------------------------------
test nº4 failed. input: false && echo ok
asts:
sep: '&&'
left:
cmd:
argc: 1
argv: 'false'
nredirs: 0
right:
cmd:
argc: 2
argv: 'echo ok'
nredirs: 0

versus:
asts:
sep: '&&'
left:
cmd:
argc: 1
argv: 'false'
nredirs: 0
right:
cmd:
argc: 2
argv: 'echo ok'
nredirs: 0

------------------------------------------------------------
test nº5 failed. input: true || echo fail
asts:
sep: '||'
left:
cmd:
argc: 1
argv: 'true'
nredirs: 0
right:
cmd:
argc: 2
argv: 'echo fail'
nredirs: 0

versus:
asts:
sep: '||'
left:
cmd:
argc: 1
argv: 'true'
nredirs: 0
right:
cmd:
argc: 2
argv: 'echo fail'
nredirs: 0

------------------------------------------------------------
test nº6 failed. input: echo inside ; echo outside
asts:
sep: ';'
left:
cmd:
argc: 2
argv: 'echo inside'
nredirs: 0
right:
cmd:
argc: 2
argv: 'echo outside'
nredirs: 0

versus:
asts:
sep: ';'
left:
cmd:
argc: 2
argv: 'echo inside'
nredirs: 0
right:
cmd:
argc: 2
argv: 'echo outside'
nredirs: 0

------------------------------------------------------------
test nº7 failed. input: ( echo world )
asts:
group:
type: SUBSHELL
children:
cmd:
argc: 2
argv: 'echo world'
nredirs: 0
nredirs: 0

versus:
asts:
group:
type: SUBSHELL
children:
cmd:
argc: 2
argv: 'echo world'
nredirs: 0
nredirs: 0

------------------------------------------------------------
test nº8 failed. input: echo a >> log.txt
asts:
cmd:
argc: 2
argv: 'echo a'
nredirs: 1
redirs:
fd=1 op='>>' file="log.txt"

versus:
asts:
cmd:
argc: 2
argv: 'echo a'
nredirs: 1
redirs:
fd=1 op='>>' file="log.txt"

------------------------------------------------------------
test nº9 failed. input: sort < in > out
asts:
cmd:
argc: 1
argv: 'sort'
nredirs: 2
redirs:
fd=0 op='<' file="in"
fd=1 op='>' file="out"

versus:
asts:
cmd:
argc: 1
argv: 'sort'
nredirs: 2
redirs:
fd=0 op='<' file="in"
fd=1 op='>' file="out"

------------------------------------------------------------
test nº10 failed. input: echo a 2> err
asts:
cmd:
argc: 2
argv: 'echo a'
nredirs: 1
redirs:
fd=2 op='>' file="err"

versus:
asts:
cmd:
argc: 2
argv: 'echo a'
nredirs: 1
redirs:
fd=2 op='>' file="err"

------------------------------------------------------------
test nº11 failed. input: grep foo bar.txt
asts:
cmd:
argc: 3
argv: 'grep foo bar.txt'
nredirs: 0

versus:
asts:
cmd:
argc: 3
argv: 'grep foo bar.txt'
nredirs: 0

------------------------------------------------------------
test nº12 failed. input: echo one | echo two | echo three
asts:
pipeline:
ncommands: 3
1/3:
cmd:
argc: 2
argv: 'echo one'
nredirs: 0
2/3:
cmd:
argc: 2
argv: 'echo two'
nredirs: 0
3/3:
cmd:
argc: 2
argv: 'echo three'
nredirs: 0

versus:
asts:
pipeline:
ncommands: 3
1/3:
cmd:
argc: 2
argv: 'echo one'
nredirs: 0
2/3:
cmd:
argc: 2
argv: 'echo two'
nredirs: 0
3/3:
cmd:
argc: 2
argv: 'echo three'
nredirs: 0

------------------------------------------------------------
test nº13 failed. input: echo x && echo y || echo z
asts:
sep: '&&'
left:
cmd:
argc: 2
argv: 'echo x'
nredirs: 0
right:
sep: '||'
left:
cmd:
argc: 2
argv: 'echo y'
nredirs: 0
right:
cmd:
argc: 2
argv: 'echo z'
nredirs: 0

versus:
asts:
sep: '||'
left:
sep: '&&'
left:
cmd:
argc: 2
argv: 'echo x'
nredirs: 0
right:
cmd:
argc: 2
argv: 'echo y'
nredirs: 0
right:
cmd:
argc: 2
argv: 'echo z'
nredirs: 0

------------------------------------------------------------
test nº14 failed. input: ( ls | wc ) > out
asts:
group:
type: SUBSHELL
children:
pipeline:
ncommands: 2
1/2:
cmd:
argc: 1
argv: 'ls'
nredirs: 0
2/2:
cmd:
argc: 1
argv: 'wc'
nredirs: 0
nredirs: 1
redirs:
fd=1 op='>' file="out"

versus:
asts:
group:
type: SUBSHELL
children:
pipeline:
ncommands: 2
1/2:
cmd:
argc: 1
argv: 'ls'
nredirs: 0
2/2:
cmd:
argc: 1
argv: 'wc'
nredirs: 0
nredirs: 1
redirs:
fd=1 op='>' file="out"

------------------------------------------------------------
test nº15 failed. input: echo a b c d
asts:
cmd:
argc: 5
argv: 'echo a b c d'
nredirs: 0

versus:
asts:
cmd:
argc: 5
argv: 'echo a b c d'
nredirs: 0

------------------------------------------------------------
test nº16 failed. input: mkdir -p dir/sub
asts:
cmd:
argc: 3
argv: 'mkdir -p dir/sub'
nredirs: 0

versus:
asts:
cmd:
argc: 3
argv: 'mkdir -p dir/sub'
nredirs: 0

------------------------------------------------------------
test nº17 failed. input: rm -f file.txt
asts:
cmd:
argc: 3
argv: 'rm -f file.txt'
nredirs: 0

versus:
asts:
cmd:
argc: 2
argv: 'rm -f file.txt'
nredirs: 0

------------------------------------------------------------
test nº18 failed. input: printf "%s\n" hello
asts:
cmd:
argc: 3
argv: 'printf %s\n hello'
nredirs: 0

versus:
asts:
cmd:
argc: 3
argv: 'printf %s\n hello'
nredirs: 0

------------------------------------------------------------
test nº19 failed. input: echo test 1> a 2> b
asts:
cmd:
argc: 2
argv: 'echo test'
nredirs: 2
redirs:
fd=1 op='>' file="a"
fd=2 op='>' file="b"

versus:
asts:
cmd:
argc: 2
argv: 'echo test'
nredirs: 2
redirs:
fd=1 op='>' file="a"
fd=2 op='>' file="b"

------------------------------------------------------------
succeded: 0/20
failed: 20/20
aborted: 0/20
