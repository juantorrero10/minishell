test nº1 failed. input: ls -l | grep txt > results
asts:
pipeline:
ncommands: 2
1/2:
cmd:
argc: 2
argv: 'ls -l'
nredirs: 0
2/2:
cmd:
argc: 2
argv: 'grep txt'
nredirs: 1
redirs:
fd=1 op='>' file="results"

versus:
asts:
pipeline:
ncommands: 2
1/2:
cmd:
argc: 2
argv: 'ls -l'
nredirs: 0
2/2:
cmd:
argc: 2
argv: 'grep txt'
nredirs: 1
redirs:
fd=1 op='>' file="results"

------------------------------------------------------------
test nº2 failed. input: { echo a; echo b; }
asts:
group:
type: GENERIC
children:
sep: ';'
left:
cmd:
argc: 2
argv: 'echo a'
nredirs: 0
right:
cmd:
argc: 2
argv: 'echo b'
nredirs: 0
nredirs: 0

versus:
asts:
group:
type: GENERIC
children:
sep: ';'
left:
cmd:
argc: 2
argv: 'echo a'
nredirs: 0
right:
cmd:
argc: 2
argv: 'echo b'
nredirs: 0
nredirs: 0

------------------------------------------------------------
test nº3 failed. input: ( cat input | sort ) >> sorted.txt
asts:
group:
type: SUBSHELL
children:
pipeline:
ncommands: 2
1/2:
cmd:
argc: 2
argv: 'cat input'
nredirs: 0
2/2:
cmd:
argc: 1
argv: 'sort'
nredirs: 0
nredirs: 1
redirs:
fd=1 op='>>' file="sorted.txt"

versus:
asts:
group:
type: SUBSHELL
children:
pipeline:
ncommands: 2
1/2:
cmd:
argc: 1
argv: 'cat'
nredirs: 0
2/2:
cmd:
argc: 1
argv: 'sort'
nredirs: 0
nredirs: 1
redirs:
fd=1 op='>>' file="sorted.txt"

------------------------------------------------------------
test nº4 failed. input: echo a && echo b >log
asts:
sep: '&&'
left:
cmd:
argc: 2
argv: 'echo a'
nredirs: 0
right:
cmd:
argc: 2
argv: 'echo b'
nredirs: 1
redirs:
fd=1 op='>' file="log"

versus:
asts:
sep: '&&'
left:
cmd:
argc: 2
argv: 'echo a'
nredirs: 0
right:
cmd:
argc: 2
argv: 'echo b'
nredirs: 1
redirs:
fd=1 op='>' file="log"

------------------------------------------------------------
test nº5 failed. input: cat < in.txt | wc -l
asts:
pipeline:
ncommands: 2
1/2:
cmd:
argc: 1
argv: 'cat'
nredirs: 1
redirs:
fd=0 op='<' file="in.txt"
2/2:
cmd:
argc: 2
argv: 'wc -l'
nredirs: 0

versus:
asts:
pipeline:
ncommands: 2
1/2:
cmd:
argc: 1
argv: 'cat'
nredirs: 1
redirs:
fd=0 op'<' file="in.txt"
2/2:
cmd:
argc: 2
argv: 'wc -l'
nredirs: 0

------------------------------------------------------------
test nº6 failed. input: grep foo file 2>/dev/null
asts:
cmd:
argc: 3
argv: 'grep foo file'
nredirs: 1
redirs:
fd=2 op='>' file="/dev/null"

versus:
asts:
cmd:
argc: 2
argv: 'grep foo'
nredirs: 1
redirs:
fd=2 op='>' file="/dev/null"

------------------------------------------------------------
test nº7 failed. input: { ls | wc -l; echo done; } >out.txt
asts:
group:
type: GENERIC
children:
sep: ';'
left:
pipeline:
ncommands: 2
1/2:
cmd:
argc: 1
argv: 'ls'
nredirs: 0
2/2:
cmd:
argc: 2
argv: 'wc -l'
nredirs: 0
right:
cmd:
argc: 2
argv: 'echo done'
nredirs: 0
nredirs: 1
redirs:
fd=1 op='>' file="out.txt"

versus:
asts:
group:
type: GENERIC
children:
sep: ';'
left:
pipeline:
ncommands: 2
1/2:
cmd:
argc: 1
argv: 'ls'
nredirs: 0
2/2:
cmd:
argc: 1
argv: 'wc -l'
nredirs: 0
right:
cmd:
argc: 2
argv: 'echo done'
nredirs: 0
nredirs: 1
redirs:
fd=1 op='>' file="out.txt"

------------------------------------------------------------
test nº8 failed. input: echo start; ( echo inner | tr a-z A-Z ) >>log
asts:
sep: ';'
left:
cmd:
argc: 2
argv: 'echo start'
nredirs: 0
right:
group:
type: SUBSHELL
children:
pipeline:
ncommands: 2
1/2:
cmd:
argc: 2
argv: 'echo inner'
nredirs: 0
2/2:
cmd:
argc: 3
argv: 'tr a-z A-Z'
nredirs: 0
nredirs: 1
redirs:
fd=1 op='>>' file="log"

versus:
asts:
sep: ';'
left:
cmd:
argc: 2
argv: 'echo start'
nredirs: 0
right:
group:
type: SUBSHELL
children:
pipeline:
ncommands: 2
1/2:
cmd:
argc: 2
argv: 'echo inner'
nredirs: 0
2/2:
cmd:
argc: 3
argv: 'tr a-z A-Z'
nredirs: 0
nredirs: 1
redirs:
fd=1 op='>>' file="log"

------------------------------------------------------------
test nº9 failed. input: echo one | echo two | echo three >final
asts:
pipeline:
ncommands: 3
1/3:
cmd:
argc: 2
argv: 'echo one'
nredirs: 0
2/3:
cmd:
argc: 2
argv: 'echo two'
nredirs: 0
3/3:
cmd:
argc: 2
argv: 'echo three'
nredirs: 1
redirs:
fd=1 op='>' file="final"

versus:
asts:
pipeline:
ncommands: 3
1/3:
cmd:
argc: 2
argv: 'echo one'
nredirs: 0
2/3:
cmd:
argc: 2
argv: 'echo two'
nredirs: 0
3/3:
cmd:
argc: 2
argv: 'echo three'
nredirs: 1
redirs:
fd=1 op='>' file="final"

------------------------------------------------------------
succeded: 1/10
failed: 9/10
aborted: 0/10
